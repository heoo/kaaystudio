<div class="site-container">
    {{partial("layouts/header")}}
</div>
<script>
    $(function () {
        var totalHeight = 0; //定义一个总高度变量
        function load(){ //loa动态加载数据
            totalHeight =  parseFloat( $(window).height() ) +  parseFloat( $(window).scrollTop() ); //浏览器的高度加上滚动条的高度
            if ( $(document).height() <= totalHeight ) { //当文档的高度小于或者等于总的高度时，开始动态加载数据
                $.get('/{{ModuleName}}/posts/index?cid={{getData["cid"]}}',function (heml) {

                })
//                $(".recent-posts").append("<p>我是新加载出来的数据</p>"); //加载数据
            }
        }
        $(window).scroll(function(){
            console.log("滚动条到顶部的垂直高度：" +  $(window).scrollTop() );
            console.log("页面的文档高度：" +  $(document).height() );
            console.log("浏览器的高度：" +  $(window).height() );
            load();
        })
    });
</script>
<input type="hidden" class="countPages" value="{{countPages}}">
<div class="site-inner">
    <div class="content-sidebar-wrap">
        <main class="content" id="genesis-content">
            <article class="page type-page status-publish entry">

                <header class="entry-header"><h1 class="entry-title" itemprop="headline">{{category['name']}}</h1></header>
                <div class="entry-content">

                    <div class="recent-posts">
                        {{partial("posts/load")}}
                    </div>
                </div>
            </article>
        </main>
    </div>
</div>